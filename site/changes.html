

<html>
<head>
<title>Apache :: ASP :: CHANGES</title>



</head>
<body bgcolor=#bb4488 link=#003090 alink=#ff5599 vlink=#993399 
 marginheight=0 marginwidth=0 leftMargin=0 topMargin=0>





<table border=0 cellpadding=0 cellspacing=0 width=100%>
<tr bgcolor=#ff4488>
<td colspan=2>
	<table border=0 cellpadding=5 cellspacing=0 width=100%>
	<tr>
	<td><img border=0 src=apache_asp.gif alt="Apache :: ASP"></td>	
	
		<td align=right></td>
	
	</tr>
	</table>
</td>
</tr>
</table>

<table border=0 cellpadding=8 cellspacing=0 height=90% width=100%>
<tr>
<td valign=top width=100 bgcolor=#c0c0c0>
	<table border=0 cellpadding=0 cellspacing=0 width=100>

	
		<tr>

		<td><font size=-2 face="verdana" color=#993399><b><nobr>&nbsp;</nobr></b></font></td>

		<td bgcolor=#c0c0c0><font face="verdana,arial" size=-1><b><nobr><a href=index.html style=text-decoration:none><font color=#003090>INTRO</font></a></nobr></b></font></td>		

		</tr>
		
		<tr>

		<td><font size=-2 face="verdana" color=#993399><b><nobr>&nbsp;</nobr></b></font></td>

		<td bgcolor=#c0c0c0><font face="verdana,arial" size=-1><b><nobr><a href=install.html style=text-decoration:none><font color=#003090>INSTALL</font></a></nobr></b></font></td>		

		</tr>
		
		<tr>

		<td><font size=-2 face="verdana" color=#993399><b><nobr>&nbsp;</nobr></b></font></td>

		<td bgcolor=#c0c0c0><font face="verdana,arial" size=-1><b><nobr><a href=config.html style=text-decoration:none><font color=#003090>CONFIG</font></a></nobr></b></font></td>		

		</tr>
		
		<tr>

		<td><font size=-2 face="verdana" color=#993399><b><nobr>&nbsp;</nobr></b></font></td>

		<td bgcolor=#c0c0c0><font face="verdana,arial" size=-1><b><nobr><a href=syntax.html style=text-decoration:none><font color=#003090>SYNTAX</font></a></nobr></b></font></td>		

		</tr>
		
		<tr>

		<td><font size=-2 face="verdana" color=#993399><b><nobr>&nbsp;</nobr></b></font></td>

		<td bgcolor=#c0c0c0><font face="verdana,arial" size=-1><b><nobr><a href=events.html style=text-decoration:none><font color=#003090>EVENTS</font></a></nobr></b></font></td>		

		</tr>
		
		<tr>

		<td><font size=-2 face="verdana" color=#993399><b><nobr>&nbsp;</nobr></b></font></td>

		<td bgcolor=#c0c0c0><font face="verdana,arial" size=-1><b><nobr><a href=objects.html style=text-decoration:none><font color=#003090>OBJECTS</font></a></nobr></b></font></td>		

		</tr>
		
		<tr>

		<td><font size=-2 face="verdana" color=#993399><b><nobr>&nbsp;</nobr></b></font></td>

		<td bgcolor=#c0c0c0><font face="verdana,arial" size=-1><b><nobr><a href=ssi.html style=text-decoration:none><font color=#003090>SSI</font></a></nobr></b></font></td>		

		</tr>
		
		<tr>

		<td><font size=-2 face="verdana" color=#993399><b><nobr>&nbsp;</nobr></b></font></td>

		<td bgcolor=#c0c0c0><font face="verdana,arial" size=-1><b><nobr><a href=sessions.html style=text-decoration:none><font color=#003090>SESSIONS</font></a></nobr></b></font></td>		

		</tr>
		
		<tr>

		<td><font size=-2 face="verdana" color=#993399><b><nobr>&nbsp;</nobr></b></font></td>

		<td bgcolor=#c0c0c0><font face="verdana,arial" size=-1><b><nobr><a href=xml.html style=text-decoration:none><font color=#003090>XML/XSLT</font></a></nobr></b></font></td>		

		</tr>
		
		<tr>

		<td><font size=-2 face="verdana" color=#993399><b><nobr>&nbsp;</nobr></b></font></td>

		<td bgcolor=#c0c0c0><font face="verdana,arial" size=-1><b><nobr><a href=cgi.html style=text-decoration:none><font color=#003090>CGI</font></a></nobr></b></font></td>		

		</tr>
		
		<tr>

		<td><font size=-2 face="verdana" color=#993399><b><nobr>&nbsp;</nobr></b></font></td>

		<td bgcolor=#c0c0c0><font face="verdana,arial" size=-1><b><nobr><a href=perlscript.html style=text-decoration:none><font color=#003090>PERLSCRIPT</font></a></nobr></b></font></td>		

		</tr>
		
		<tr>

		<td><font size=-2 face="verdana" color=#993399><b><nobr>&nbsp;</nobr></b></font></td>

		<td bgcolor=#c0c0c0><font face="verdana,arial" size=-1><b><nobr><a href=faq.html style=text-decoration:none><font color=#003090>FAQ</font></a></nobr></b></font></td>		

		</tr>
		
		<tr>

		<td><font size=-2 face="verdana" color=#993399><b><nobr>&nbsp;</nobr></b></font></td>

		<td bgcolor=#c0c0c0><font face="verdana,arial" size=-1><b><nobr><a href=tuning.html style=text-decoration:none><font color=#003090>TUNING</font></a></nobr></b></font></td>		

		</tr>
		
		<tr>

		<td><font size=-2 face="verdana" color=#993399><b><nobr>&nbsp;</nobr></b></font></td>

		<td bgcolor=#c0c0c0><font face="verdana,arial" size=-1><b><nobr><a href=kudos.html style=text-decoration:none><font color=#003090>CREDITS</font></a></nobr></b></font></td>		

		</tr>
		
		<tr>

		<td><font size=-2 face="verdana" color=#993399><b><nobr>&nbsp;</nobr></b></font></td>

		<td bgcolor=#c0c0c0><font face="verdana,arial" size=-1><b><nobr><a href=support.html style=text-decoration:none><font color=#003090>SUPPORT</font></a></nobr></b></font></td>		

		</tr>
		
		<tr>

		<td><font size=-2 face="verdana" color=#993399><b><nobr>&nbsp;</nobr></b></font></td>

		<td bgcolor=#c0c0c0><font face="verdana,arial" size=-1><b><nobr><a href=sites.html style=text-decoration:none><font color=#003090>SITES USING</font></a></nobr></b></font></td>		

		</tr>
		
		<tr>

		<td><font size=-2 face="verdana" color=#993399><b><nobr>&nbsp;</nobr></b></font></td>

		<td bgcolor=#c0c0c0><font face="verdana,arial" size=-1><b><nobr><a href=resources.html style=text-decoration:none><font color=#003090>RESOURCES</font></a></nobr></b></font></td>		

		</tr>
		
		<tr>

		<td><font size=-2 face="verdana" color=#993399><b><nobr>&nbsp;</nobr></b></font></td>

		<td bgcolor=#c0c0c0><font face="verdana,arial" size=-1><b><nobr><a href=todo.html style=text-decoration:none><font color=#003090>TODO</font></a></nobr></b></font></td>		

		</tr>
		
		<tr>

		<td><font size=-2 face="verdana" color=#993399><b><nobr>%</nobr></b></font></td>

		<td bgcolor=#c0c0c0><font face="verdana,arial" size=-1><b><nobr><font color=#993399>CHANGES</font></nobr></b></font></td>		

		</tr>
		<tr><td colspan=2><hr size=1></td></tr>
		<tr>

		<td><font size=-2 face="verdana" color=#993399><b><nobr>&nbsp;</nobr></b></font></td>

		<td bgcolor=#c0c0c0><font face="verdana,arial" size=-1><b><nobr><a href=eg/index.html style=text-decoration:none><font color=#003090>EXAMPLES</font></a></nobr></b></font></td>		

		</tr>
		
	<tr>
		<td align=center colspan=2>
		<hr size=1>
		<center>
		<a href=http://www.nodeworks.com/asp/><img 
			src=powered_by_apache_asp.jpg border=0
			alt="Powered by Apache::ASP"
			></a>
		<br>
		<a href=http://perl.apache.org><img 
			src=powered_by_modperl.gif border=0
			alt="Powered by ModPerl and Apache"
			></a>
		<br>
		<a href=http://www.nodeworks.com/partner.htm?partner_id=apacheasp><img 
			src=nodecheck_button.gif border=0
			alt="Links Checked by NodeWorks"
			></a>
		</center>
		<hr size=1>
		</td>
	</tr>
	</table>
</td>



<td valign=top bgcolor=white>
<font size=-1 face=verdana>

<font face=verdana><font size=+1 color=#555555><b>CHANGES</b></font><p>
<font face="lucida console,courier new" size=3><pre>
 + = improvement; - = bug fix </pre></font>

	<hr size=1>
	<table width=100% border=0 cellpadding=1 cellspacing=3>
	<tr>
	<td valign=top><font face="lucida console" size=-1>
	<ul>
	
		<tr>
		
			<td valign=top >
			<font face="lucida console" size=-1>
			<a href=#%24VERSION%20%3D%201.91%3B%20%24DATE%3D%2207%2F02%2F00%22%3B><font color=#003090>$VERSION = 1.91; $DATE="07/02/00";</font></a>
			</font>
			</td>
		
			<td valign=top >
			<font face="lucida console" size=-1>
			<a href=#%24VERSION%20%3D%200.09%3B%20%24DATE%3D%2204%2F22%2F99%22%3B><font color=#003090>$VERSION = 0.09; $DATE="04/22/99";</font></a>
			</font>
			</td>
							
		</tr>
		
		<tr>
		
			<td valign=top >
			<font face="lucida console" size=-1>
			<a href=#%24VERSION%20%3D%200.19%3B%20%24DATE%3D%22NOT%20RELEASED%22%3B><font color=#003090>$VERSION = 0.19; $DATE="NOT RELEASED";</font></a>
			</font>
			</td>
		
			<td valign=top >
			<font face="lucida console" size=-1>
			<a href=#%24VERSION%20%3D%200.08%3B%20%24DATE%3D%2202%2F06%2F99%22%3B><font color=#003090>$VERSION = 0.08; $DATE="02/06/99";</font></a>
			</font>
			</td>
							
		</tr>
		
		<tr>
		
			<td valign=top >
			<font face="lucida console" size=-1>
			<a href=#%24VERSION%20%3D%200.18%3B%20%24DATE%3D%2202%2F03%2F00%22%3B><font color=#003090>$VERSION = 0.18; $DATE="02/03/00";</font></a>
			</font>
			</td>
		
			<td valign=top >
			<font face="lucida console" size=-1>
			<a href=#%24VERSION%20%3D%200.07%3B%20%24DATE%3D%2201%2F20%2F99%22%3B><font color=#003090>$VERSION = 0.07; $DATE="01/20/99";</font></a>
			</font>
			</td>
							
		</tr>
		
		<tr>
		
			<td valign=top >
			<font face="lucida console" size=-1>
			<a href=#%24VERSION%20%3D%200.17%3B%20%24DATE%3D%2211%2F15%2F99%22%3B><font color=#003090>$VERSION = 0.17; $DATE="11/15/99";</font></a>
			</font>
			</td>
		
			<td valign=top >
			<font face="lucida console" size=-1>
			<a href=#%24VERSION%20%3D%200.06%3B%20%24DATE%3D%2212%2F21%2F98%22%3B><font color=#003090>$VERSION = 0.06; $DATE="12/21/98";</font></a>
			</font>
			</td>
							
		</tr>
		
		<tr>
		
			<td valign=top >
			<font face="lucida console" size=-1>
			<a href=#%24VERSION%20%3D%200.16%3B%20%24DATE%3D%2209%2F22%2F99%22%3B><font color=#003090>$VERSION = 0.16; $DATE="09/22/99";</font></a>
			</font>
			</td>
		
			<td valign=top >
			<font face="lucida console" size=-1>
			<a href=#%24VERSION%20%3D%200.05%3B%20%24DATE%3D%2210%2F19%2F98%22%3B><font color=#003090>$VERSION = 0.05; $DATE="10/19/98";</font></a>
			</font>
			</td>
							
		</tr>
		
		<tr>
		
			<td valign=top >
			<font face="lucida console" size=-1>
			<a href=#%24VERSION%20%3D%200.15%3B%20%24DATE%3D%2208%2F24%2F99%22%3B><font color=#003090>$VERSION = 0.15; $DATE="08/24/99";</font></a>
			</font>
			</td>
		
			<td valign=top >
			<font face="lucida console" size=-1>
			<a href=#%24VERSION%20%3D%200.04%3B%20%24DATE%3D%2210%2F14%2F98%22%3B><font color=#003090>$VERSION = 0.04; $DATE="10/14/98";</font></a>
			</font>
			</td>
							
		</tr>
		
		<tr>
		
			<td valign=top >
			<font face="lucida console" size=-1>
			<a href=#%24VERSION%20%3D%200.14%3B%20%24DATE%3D%2207%2F29%2F99%22%3B><font color=#003090>$VERSION = 0.14; $DATE="07/29/99";</font></a>
			</font>
			</td>
		
			<td valign=top >
			<font face="lucida console" size=-1>
			<a href=#%24VERSION%20%3D%200.03%3B%20%24DATE%3D%2209%2F14%2F98%22%3B><font color=#003090>$VERSION = 0.03; $DATE="09/14/98";</font></a>
			</font>
			</td>
							
		</tr>
		
		<tr>
		
			<td valign=top >
			<font face="lucida console" size=-1>
			<a href=#%24VERSION%20%3D%200.12%3B%20%24DATE%3D%2207%2F01%2F99%22%3B><font color=#003090>$VERSION = 0.12; $DATE="07/01/99";</font></a>
			</font>
			</td>
		
			<td valign=top >
			<font face="lucida console" size=-1>
			<a href=#%24VERSION%20%3D%200.02%3B%20%24DATE%3D%2207%2F12%2F98%22%3B><font color=#003090>$VERSION = 0.02; $DATE="07/12/98";</font></a>
			</font>
			</td>
							
		</tr>
		
		<tr>
		
			<td valign=top >
			<font face="lucida console" size=-1>
			<a href=#%24VERSION%20%3D%200.11%3B%20%24DATE%3D%2206%2F24%2F99%22%3B><font color=#003090>$VERSION = 0.11; $DATE="06/24/99";</font></a>
			</font>
			</td>
		
			<td valign=top >
			<font face="lucida console" size=-1>
			<a href=#%24VERSION%20%3D%200.01%3B%20%24DATE%3D%2206%2F26%2F98%22%3B><font color=#003090>$VERSION = 0.01; $DATE="06/26/98";</font></a>
			</font>
			</td>
							
		</tr>
		
		<tr>
		
			<td valign=top >
			<font face="lucida console" size=-1>
			<a href=#%24VERSION%20%3D%200.10%3B%20%24DATE%3D%2205%2F24%2F99%22%3B><font color=#003090>$VERSION = 0.10; $DATE="05/24/99";</font></a>
			</font>
			</td>
		<td>&nbsp;</td>					
		</tr>
			
	</table>
	<hr size=1>
	<p>

	<p>
	<a name=%24VERSION%20%3D%201.91%3B%20%24DATE%3D%2207%2F02%2F00%22%3B></a>
	<font face=verdana><font size=+0 color=#555555><b>$VERSION = 1.91; $DATE="07/02/00";</b></font><p>
<font face="lucida console,courier new" size=3><pre>
 +Documented XMLSubsMatch &amp; XSLT* configuration
  settings in <a href=config.html><font size=-1 face=verdana><b>CONFIG</b></font></a> section.

 +XSLT XSL template is now first executed as an
  ASP script just like the XML scripts.  This is
  just one step away now from implementing XSP logic.

 +$Server-&gt;Execute and $Server-&gt;Transfer API extensions
  implemented.  Execute is the same as $Request-&gt;Include()
  and $Server-&gt;Transfer is like an apache internal redirect
  but keeps the current ASP objects for the next script.

  Added examples, transfer.htm, and modified dynamic_includes.htm.

 +Better compile time error debugging with Debug 2 or -2.
  Will hilite/link the buggy line for global.asa errors,
  include errors, and <a href=xml.html><font size=-1 face=verdana><b>XML/XSLT</b></font></a> errors just like with
  ASP scripts before.

 +Nice source hiliting when viewing source for the example
  scripts.

 +Runtime string writing optimization for static HTML going
  through $Response.

 +New version numbering just like everyone else.  Starting at 1.91
  since I seem to be off by a factor of 10, last release would have
  been 1.9. </pre></font>
	
	<p>
	<a name=%24VERSION%20%3D%200.19%3B%20%24DATE%3D%22NOT%20RELEASED%22%3B></a>
	<font face=verdana><font size=+0 color=#555555><b>$VERSION = 0.19; $DATE="NOT RELEASED";</b></font><p>
<font face="lucida console,courier new" size=3><pre>
 +XMLSubsMatch and XSLT* settings documented in
  the <a href=xml.html><font size=-1 face=verdana><b>XML/XSLT</b></font></a> section of the site/README.

 -XMLSubsMatch will strip parens in a pattern match
  so it does not interfere with internal matching use.

 +XSLT integration allowing XML to be rendered by XSLT
  on the fly.  XSLT specifies XSL file to transform XML.
  XSLTMatch is a regexp that matches XML file names, like \.xml$,
  which will be transformed by XSLT setting, default .*

  XSLTCacheSize when specified uses Tie::Cache to cached XML DOMs
  internally and cache XSLT transformations output per XML/XSL
  combination.  XML DOM objects can take a lot of RAM, so use
  this setting judiciously like setting to 100.  Definitely
  experiment with this value.

 +More client info in the error mail feature, including
  client IP, form data, query string, and HTTP_* client headers

 +With Time::HiRes loaded, and Debug set to non 0,
  will add a &lt;!-- Apache::ASP served request in xx.xx seconds --&gt;
  to text/html output, similar to Cocoon, per user request
  Will also add this to the system debug error log output
  when Debug is &lt; 0

 -bug fix on object initialization optimization earlier
  in this release, that was introduced for faster event
  handler execution.

 +Apache::ASP::Parse() takes a file name, scalar, or
  scalar ref for arguments of data to parse for greater
  integration ability with other applications.

 +PodComments optimization, small speed increase at
  compilation time.

 +String optimization on internal rendering that avoids
  unnecessary copying of static html, by using refs.  Should
  make a small difference on sites with large amounts of
  static html.

 +CompressGzip setting which, when Compress::Zlib is installed,
  will compress text/html automatically going out to the web
  browser if the client supports gzip encoding.

 ++Script_OnFlush event handler, and auxiliary work optimizing
  asp events in general.  $Response-&gt;{BinaryRef} created which
  is a reference to outgoing output, which can be used
  to modify the data at runtime before it goes out to the client.

 +Some code optimizations that boost speed from 22 to 24
  hits per second when using Sessions without $Application,
  on a simple hello world benchmark on a WinNT PII300.

 ++Better SessionManagement, more aware of server farms that
  don't have reliable NFS locking.  The key here is to have only
  one process on one server in charge of session garbage collection
  at any one time, and try to create this situation with a snazzy
  CleanupMaster routine.  This is done by having a process register
  itself in the internal database with a server key created at
  apache start time.  If this key gets stale, another process can
  become the master, and this period will not exceed the period
  SessionTimeout / StateManager.

  ** Work on session manager sponsored by <a href=http://www.lrn.com><font size=-1 face=verdana><b>LRN</b></font></a>, <a href=http://www.lrn.com>http://www.lrn.com</a>.  **
  ** This work was used to deploy a server farm in production with  **
  ** NFS mounted StateDir. Thanks to Craig Samuel for his belief in **
  ** open source. :)                                                **

  Future work for server farm capabilities might include breaking
  up the internal database into one of 256 internal databases
  hashed by the first 2 chars of the session id.  Also on the plate
  is Apache::Session like abilities with locking and/or data storage
  occuring in a SQL database.  The first dbs to be done will include
  MySQL &amp; Oracle.

 +Better session security which will create a new session id for an
  incoming session id that does not match one already seen.  This will
  help for those with Search engines that have bookmarked
  pages with the session ids in the query strings.  This breaks away
  from standard ASP session id implementation which will automatically
  use the session id presented by the browser, now a new session id will
  be returned if the presented one is invalid or expired.

 -$Application-&gt;GetSession will only return a session if
  one already existed.  It would create one before by default.

 +Script_OnFlush global.asa event handler, and $Response-&gt;{BinaryRef}
  member which is a scalar reference to the content about to be flushed.
  See <a href=eg/global.asa>./site/eg/global.asa</a> for example usage, used in this case to
  insert font tags on the fly into the output.

 +Highlighting and linking of line error when Debug is set to 2 or -2.

 --removed fork() call from flock() backup routine? How did
   that get in there?  Oh right, testing on Win32. :(
   Very painful lesson this one, sorry to whom it may concern.

 +$Application-&gt;SessionCount support turned off by default
  must enable with SessionCount config option.  This feature
  puts an unnecessary load on busy sites, so not default
  behavior now.

 ++XMLSubsMatch setting that allows the developer to
  create custom tags XML style that execute perl subroutines.
  See <a href=eg/xml_subs.asp>./site/eg/xml_subs.asp</a>

 +MailFrom config option that defaults the From: field for
  mails sent via the Mail* configs and $Server-&gt;Mail()

 +$Server-&gt;Mail(\%mail, %smtp_args) API extension

 +MailErrorsTo &amp; MailAlertTo now can take comma
  separated email addresses for multiple recipients.

 -tracking of subroutines defined in scripts and includes so
  StatINC won't undefine them when reloading the GlobalPackage,
  and so an warning will be logged when another script redefines
  the same subroutine name, which has been the bane of at least
  a few developers.

 -Loader() will now recompile dynamic includes that
  have changed, even if main including script has not.
  This is useful if you are using Loader() in a
  PerlRestartHandler, for reloading scripts when
  gracefully restarting apache.

 -Apache::ASP used to always set the status to 200 by
  default explicitly with $r-&gt;status().  This would be
  a problem if a script was being used to as a 404
  ErrorDocument, because it would always return a 200 error
  code, which is just wrong.  $Response-&gt;{Status} is now
  undefined by default and will only be used if set by
  the developer.

  Note that by default a script will still return a 200 status,
  but $Response-&gt;{Status} may be used to override this behavior.

 +$Server-&gt;Config($setting) API extension that allows developer
  to access config settings like Global, StateDir, etc., and is a
  wrapper around Apache-&gt;dir_config($setting)

 +Loader() will log the number of scripts
  recompiled and the number of scripts checked, instead
  of just the number of scripts recompiled, which is
  misleading as it reports 0 for child httpds after
  a parent fork that used Loader() upon startup.

 -Apache::ASP-&gt;Loader() would have a bad error if it didn't load
  any scripts when given a directory, prints &quot;loaded 0 scripts&quot; now </pre></font>
	
	<p>
	<a name=%24VERSION%20%3D%200.18%3B%20%24DATE%3D%2202%2F03%2F00%22%3B></a>
	<font face=verdana><font size=+0 color=#555555><b>$VERSION = 0.18; $DATE="02/03/00";</b></font><p>
<font face="lucida console,courier new" size=3><pre>
 +Documented SessionQuery* &amp; $Server-&gt;URL() and
  cleaned up formatting some, as well as redoing
  some of the sections ordering for better readability.
  Document the cookieless session functionality more
  in a new <a href=sessions.html><font size=-1 face=verdana><b>SESSIONS</b></font></a> section.  Also documented new
  FileUpload configs and $Request-&gt;FileUpload collection.
  Documented StatScripts.

 +StatScripts setting which if set to 0 will not reload
  includes, global.asa, or scripts when changed.

 +FileUpload file handles cleanup at garbage collection
  time so developer does not have to worry about lazy coding
  and undeffing filehandles used in code.  Also set
  uploaded filehandles to binmode automatically on Win32
  platforms, saving the developer yet more typing.

 +FileUploadTemp setting, default 0, if set will leave
  a temp file on disk during the request, which may be
  helpful for processing by other programs, but is also
  a security risk in that others could potentially read
  this file while the script is running.

  The path to the temp file will be available at
  $Request-&gt;{FileUpload}{$form_field}{TempFile}.
  The regular use of file uploads remains the same
  with the &lt;$filehandle&gt; to the upload at
  $Request-&gt;{Form}{$form_field}.

 +FileUploadMax setting, default 0, currently an
  alias for $<a href=cgi.html><font size=-1 face=verdana><b>CGI</b></font></a>::POST_MAX, which determines the
  max size for a file upload in bytes.

 +SessionQueryParse only auto parses session-ids
  into links when a session-id COOKIE is NOT found.
  This feature is only enabled then when a user has
  disabled cookies, so the runtime penalty of this
  feature won't drag down the whole site, since most
  users will have cookies turned on.

 -StatINC &amp; StatINCMatch will not undef Fnctl.pm flock
  functions constants like O_RDWR, because the code references
  are not well trackable.  This would result in sporadic 500 server
  errors when a changed module was reloaded that imported O_* flock
  functions from Fnctl.

 +SessionQueryParse &amp; SessionQueryParseMatch
  settings that enable auto parsing session ids into
  URLs for cookieless sessions.  Will pick up URLs in
  &lt;a href&gt;, &lt;area href&gt;, &lt;form action&gt;, &lt;frame src&gt;,
  &lt;iframe src&gt;, &lt;img src&gt;, &lt;input src&gt;, &lt;link href&gt;
  $Response-&gt;Redirect($URL) and the first URL in
  script tags like &lt;script&gt;*.location.href=$URL&lt;/script&gt;

  These settings require that buffering be enabled, as
  Apache::ASP will parse through the buffer to parse the URLs.

  With SessionQueryParse on, it will just parse non-absolute
  URLs, but with SessionQueryParseMatch set to some server
  url regexp, like ^<tt>http://localhost</tt> , will also parse
  in the session id for URLs that match that.

  When testing, the performance hit from this parsing
  a script dropped from 12.5 hits/sec on my WinNT box
  to 11.7 hits per second for 1K of buffered output.
  The difference is .007 of my PII300's processing power
  per second.

  For 10K of output then, my guess is that this speed
  of script, would be slowed to 6.8 hits per second.
  This kind of performance hit would also slow a
  script running at 40 hits per second on a UNIX box
  to 31 hits/sec for 1K, and to 11 hits/sec for 10K parsed.

  Your mileage may vary and you will have to test the difference
  yourself.  Get yourself a valid URL with a session-id in
  it, and run it through ab, or Socrates, with SessionQuery
  turned on, and then with SessionQueryParse set to see
  the difference.  SessionQuery just enables of session id
  setting from the query string but will not auto parse urls.

 -If buffering, Content-Length will again be set.
  It broke, probably while I was tuning in the past
  couple versions.

 +UseStrict setting compiles all scripts including
  global.asa with &quot;use strict&quot; turned on for catching
  more coding errors.  With this setting enabled,
  use strict errors die during compilation forcing
  Apache::ASP to try to recompile the script until
  successful.

 -Object use in includes like $Response-&gt;Write()
  no longer error with &quot;use strict&quot; programming.

 +SessionQuery config setting with $Server-&gt;URL($url, { %params } )
  alpha API extensions to enable cookieless sessions.

 +Debugging not longer produces internal debugging
  by default.  Set to -1,-2 for internal debugging
  for Debug settings 1 &amp; 2.

 +Both StateSerializer &amp; StateDB can be changed
  without affecting a live web site, by storing
  the configurations for $Application &amp; $Session
  in an internal database, so that if $Session was
  created with SDBM_File for the StateDB (default),
  it will keep this StateDB setting until it ends.

 +StateSerializer config setting.  Default Data::Dumper,
  can also be set to Storable.  Controls how data is
  serialized before writing to $Application &amp; $Session.

 +Beefed up the make test suite.

 +Improved the locking, streamlining a bit of the
  $Application / $Session setup process.  Bench is up to
  22 from 21 hits / sec on dev NT box.

 +Cut more fat for faster startup, now on my dev box
  I get 44 hits per sec Apache::ASP vs. 48 Embperl
  vs. 52 CGI via Apache::Registry for the HelloWorld Scripts.

 -Improved linking for the online site documentation,
  where a few links before were bad. </pre></font>
	
	<p>
	<a name=%24VERSION%20%3D%200.17%3B%20%24DATE%3D%2211%2F15%2F99%22%3B></a>
	<font face=verdana><font size=+0 color=#555555><b>$VERSION = 0.17; $DATE="11/15/99";</b></font><p>
<font face="lucida console,courier new" size=3><pre>
 ++20%+ faster startup script execution, as measured by the
  HelloWorld bench.  I cut a lot of the fat out of
  the code, and is now at least 20% faster on startup
  both with and without state.

  On my dev (NT, apache 1.3.6+<a href=http://perl.apache.org><font size=-1 face=verdana><b>mod_perl</b></font></a>) machine, I now get:

	42 hits per sec on Apache::ASP HelloWorld bench
	46 hits per sec on Embperl (1.2b10) and
	51 hits per sec for <a href=cgi.html><font size=-1 face=verdana><b>CGI</b></font></a> Apache::Registry scripts

  Before Apache::ASP was clocking some 31 hits per sec.
  Apache::ASP also went from 75 to 102 hits per second
  on Solaris.

 +PerlTaintCheck On friendly.  This is mod_perl's way
  of providing -T taint checking.  When Apache::ASP
  is used with state objects like $Session or $Application,
  MLDBM must also be made taint friendly with:

    $MLDBM::RemoveTaint = 1;

  which could be put in the global.asa.  Documented.

 +Added $Response-&gt;ErrorDocument($error_code, $uri_or_string)
  API extension which allows for setting of Apache's error
  document at runtime.  This is really just a wrapper
  for Apache-&gt;custom_response() renamed so it syncs with
  the Apache ErrorDocument config setting.  Updated
  documentation, and added error_document.htm example.

 =OrderCollections setting was added, but then REMOVED
  because it was not going to be used.  It bound
  $Request-&gt;* collections/hashes to Tie::IxHash, so that data
  in those collections would be read in the order the
  browser sent it, when eaching through or with keys.

 -global.asa will be reloaded when changed.  This broke
  when I optimized the modification times with (stat($file))[9]
  rather than &quot;use File::stat; stat($file)-&gt;mtime&quot;

 -Make Apache::ASP-&gt;Loader() PerlRestartHandler safe,
  had some unstrict code that was doing the wrong thing.

 -IncludesDir config now works with DynamicIncludes.

 +DebugBufferLength feature added, giving control to
  how much buffered output gets shown when debugging errors.

 ++Tuning of $Response-&gt;Write(), which processes all
  static html internally, to be almost 50% faster for
  its typical use, when BufferingOn is enabled, and
  CgiHeaders are disabled, both being defaults.

  This can show significant speed improvements for tight
  loops that render ASP output.

 +Auto linking of ./site/eg/ text to example scripts
  at web site.

 +$Application-&gt;GetSession($session_id) API extension, useful
  for managing active user sessions when storing session ids
  in $Application.  Documented.

 -disable use of flock() on Win95/98 where it is unimplemented

 -@array context of $Request-&gt;Form('name') returns
  undef when value for 'name' is undefined.  Put extra
  logic in there to make sure this happens. </pre></font>
	
	<p>
	<a name=%24VERSION%20%3D%200.16%3B%20%24DATE%3D%2209%2F22%2F99%22%3B></a>
	<font face=verdana><font size=+0 color=#555555><b>$VERSION = 0.16; $DATE="09/22/99";</b></font><p>
<font face="lucida console,courier new" size=3><pre>
 -$Response-&gt;{Buffer} and PerlSetVar BufferingOn
  configs now work when set to 0, to unbuffer output,
  and send it out to the web client as the script generates it.

  Buffering is enabled by default, as it is faster, and
  allows a script to error cleanly in the middle of execution.

 +more bullet proof loading of Apache::Symbol, changed the
  way Apache::ASP loads modules in general.  It used to
  check for the module to load every time, if it hadn't loaded
  successfully before, but now it just tries once per httpd,
  so the web server will have to be restarted to see new installed
  modules.  This is just for modules that Apache::ASP relies on.

  Old modules that are changed or updated with an installation
  are still reloaded with the StatINC settings if so configured.

 +ASP web site wraps &lt;font face=&quot;courier new&quot;&gt; around &lt;pre&gt;
  tags now to override the other font used for the text
  areas.  The spacing was all weird in Netscape before
  for &lt;pre&gt; sections.

 -Fixed Content-Length calculation when using the Clean
  option, so that the length is calculated after the HTML
  is clean, not before.  This would cause a browser to
  hang sometimes.

 +Added IncludesDir config option that if set will also be
  used to check for includes, so that includes may easily be
  shared between applications.  By default only Global and
  the directory the script is in are checked for includes.

  Also added IncludesDir as a possible configuration option
  for Apache::ASP-&gt;Loader()

 -Re-enabled the Application_OnStart &amp; OnEnd events, after
  breaking them when implementing the AllowApplicationState
  config setting.

 +Better pre-fork caching ... StatINC &amp; StatINCMatch are now
  args for Apache::ASP-&gt;Loader(), so StatINC symbols loading
  may be done pre-fork and shared between httpds.  This lowers
  the child httpd init cost of StatINC.  Documented.

 +Made Apache::ASP Basic Authorization friendly so authentication
  can be handled by ASP scripts.  If AuthName and AuthType Apache
  config directives are set, and a $Response-&gt;{Status} is set to
  401, a user will be prompted for username/password authentication
  and the entered data will show up in ServerVariables as:
    $env = $Request-&gt;ServerVariables
    $env-&gt;{REMOTE_USER} = $env-&gt;{AUTH_USER} = username
    $env-&gt;{AUTH_PASSWD} = password
    $env-&gt;{AUTH_NAME}   = your realm
    $env-&gt;{AUTH_TYPE}   = 'Basic'

  This is the same place to find auth data as if Apache had some
  authentication handler deal with the auth phase separately.

 -MailErrorsTo should report the right file now that generates
  the error. </pre></font>
	
	<p>
	<a name=%24VERSION%20%3D%200.15%3B%20%24DATE%3D%2208%2F24%2F99%22%3B></a>
	<font face=verdana><font size=+0 color=#555555><b>$VERSION = 0.15; $DATE="08/24/99";</b></font><p>
<font face="lucida console,courier new" size=3><pre>
 --State databases like $Session, $Application are
  now tied/untied to every lock/unlock triggered by read/write
  access.  This was necessary for correctness issues, so that
  database file handles are flushed appropriately between writes
  in a highly concurrent multi-process environment.

  This problem raised its ugly head because under high volume,
  a DB_File can become corrupt if not flushed correctly.
  Unfortunately, there is no way to flush SDBM_Files &amp; DB_Files
  consistently other than to tie/untie the databases every access.

  DB_File may be used optionally for StateDB, but the default is
  to use SDBM_File which is much faster, but limited to 1024 byte
  key/value pairs.

  For SDBM_Files before, if there were too many concurrent
  writes to a shared database like $Application, some of the
  writes would not be saved because another process
  might overwrite the changes with its own.

  There is now a 10 fold performance DECREASE associated
  with reading from and writing to files like $Session
  and $Application.  With rough benchmarks I can get about
  100 increments (++) now per second to $Session-&gt;{count}, where
  before I could get 1000 increments / second.

  You can improve this if you have many reads / writes happening
  at the same time, by placing locking code around the group like

	$Session-&gt;Lock();
	$Session-&gt;{count}++;
	$Session-&gt;{count}++;
	$Session-&gt;{count}++;
	$Session-&gt;UnLock();

  This method will reduce the number of ties to the $Session database
  from 6 to 1 for this kind of code, and will improve the performance
  dramatically.

  Also, instead of using explicit $Session locking, you can
  create an automatic lock on $Session per script by setting
  SessionSerialize in your config to 1.  The danger here is
  if you have any long running scripts, the user will have
  to wait for it to finish before another script can be run.

  To see the number of lock/unlocks or ties/unties to each database
  during a script execution, look at the last lines of debug output
  to your error log when Debug is set to 1.  This can help you
  performance tweak access to these databases.

 +Updated documentation with new config settings and
  API extensions.

 +Added AllowApplicationState config option which allows
  you to leave $Application undefined, and will not
  execute Application_OnStart or Application_OnEnd.
  This can be a slight performance increase of 2-3% if
  you are not using $Application, but are using $Session.

 +Added $Session-&gt;Lock() / $Session-&gt;UnLock() API routines
  necessary additions since access to session is not
  serialized by default like IIS ASP.  Also prompted
  by change in locking code which retied to SDBM_File
  or DB_File each lock.  If you $Session-&gt;Lock / UnLock
  around many read/writes, you will increase performance.

 +Added StateCache config which, if set will cache
  the file handle locks for $Application and an internal
  database used for tracking $Session info.  This caching can
  make an ASP application perform up to 10% faster,
  at a cost of each web server process holding 2 more
  cached file handles open, per ASP application using
  this configuration.  The data written to or read from
  these state databases is not cached, just the locking
  file handles are held open.

 -Added in much more locking in session manager
  and session garbage collector to help avoid collisions
  between the two.  There were definite windows that the
  two would collide in, during which bad things could
  happen on a high volume site.

 -Fixed some warnings in DESTROY and ParseParams() </pre></font>
	
	<p>
	<a name=%24VERSION%20%3D%200.14%3B%20%24DATE%3D%2207%2F29%2F99%22%3B></a>
	<font face=verdana><font size=+0 color=#555555><b>$VERSION = 0.14; $DATE="07/29/99";</b></font><p>
<font face="lucida console,courier new" size=3><pre>
 -<a href=cgi.html><font size=-1 face=verdana><b>CGI</b></font></a> &amp; StatINC or StatINCMatch would have bad results
  at times, with StatINC deleting dynamically compiled
  CGI subroutines, that were imported into other scripts
  and modules namespaces.

  A couple tweaks, and now StatINC &amp; CGI play nice again ;)
  StatINCMatch should be safe to use in production with CGI.
  This affects in particular environments that use file upload,
  since CGI is loaded automatically by Apache::ASP to handle
  file uploads.

  This fix should also affect other seemingly random
  times when StatINC or StatINCMatch don't seem to do
  the right thing.

 +use of ASP objects like $Response are now &quot;use strict&quot;
  safe in scripts, while UniquePackages config is set.

 +Better handling of &quot;use strict&quot; errors in ASP scripts.
  The error is detected, and the developer is pointed to the
  Apache error log for the exact error.

  The script with &quot;use strict&quot; errors will be recompiled again.  Its seems
  though that &quot;use strict&quot; will only throw its error once, so that a script
  can be recompiled with the same errors, and work w/o any use strict
  error messaging. </pre></font>
	
	<p>
	<a name=%24VERSION%20%3D%200.12%3B%20%24DATE%3D%2207%2F01%2F99%22%3B></a>
	<font face=verdana><font size=+0 color=#555555><b>$VERSION = 0.12; $DATE="07/01/99";</b></font><p>
<font face="lucida console,courier new" size=3><pre>
 -Compiles are now 10 +times faster for scripts with lots of big
  embedded perl blocks &lt;% #perl %&gt;

  Compiles were slow because of an old <a href=http://www.activestate.com/ActivePerl/><font size=-1 face=verdana><b>PerlScript</b></font></a> compatibility
  parsing trick where $Request-&gt;QueryString('hi')-&gt;{item}
  would be parsed to $Request-&gt;QueryString('hi') which works.
  I think the regexp that I was using had O(n^2) characteristics
  and it took a really big perl block to 10 +seconds to parse
  to understand there was a problem :(

  I doubt anyone needed this compatibility, I don't even see
  any code that looks like this in the online PerlScript examples,
  so I've commented out this parsing trick for now.  If you
  need me to bring back this functionality, it will be in the
  form of a config setting.

  For information on PerlScript compatibility, see the PerlScript
  section in the ASP docs.

 -Added UniquePackages config option, that if set brings back
  the old method of compiling each ASP script into its own
  separate package.  As of v.10, scripts are compiled by default
  into the same package, so that scripts, dynamic includes &amp; global.asa
  can share globals.  This BROKE scripts in the same ASP Application
  that defined the same sub routines, as their subs would redefine
  each other.

  UniquePackages has scripts compiled into separate perl packages,
  so they may define subs with the same name, w/o fear of overlap.
  Under this settings, scripts will not be able to share globals.

 -Secure field for cookies in $Response-&gt;Cookies() must be TRUE to
  force cookie to be secure.  Before, it just had to be defined,
  which gave wrong behavior for Secure =&gt; 0.

 +$Response-&gt;{IsClientConnected} set to one by default.  Will
  work out a real value when I upgrade to apache 1.3.6.  This
  value has no meaning before, as apache aborts the perl code
  when a client drops its connection in earlier versions.

 +better compile time debugging of dynamic includes, with
  Debug 2 setting

 +&quot;use strict&quot; friendly handling of compiling dynamic includes
  with errors </pre></font>
	
	<p>
	<a name=%24VERSION%20%3D%200.11%3B%20%24DATE%3D%2206%2F24%2F99%22%3B></a>
	<font face=verdana><font size=+0 color=#555555><b>$VERSION = 0.11; $DATE="06/24/99";</b></font><p>
<font face="lucida console,courier new" size=3><pre>
 +Lots of documentation updates

 +The MailHost config option is the smtp server used for
  relay emails for the Mail* config options.

 +MailAlertTo config option used for sending a short administrative
  alert for an internal ASP error, server code 500.  This is the
  compliment to MailErrorsTo, but is suited for sending a to a
  small text based pager.  The email sent by MailErrorsTo would
  then be checked by the web admin for quick response &amp; debugging
  for the incident.

  The MailAlertPeriod config specifies the time in minutes during
  which only one alert will be sent, which defaults to 20.

 +MailErrorsTo config options sends the results of a 500 error
  to the email address specified as if Debug were set to 2.
  If Debug 2 is set, this config will not be on, as it is
  for production use only.  Debug settings less than 2 only
  log errors to the apache server error log.

 -StatINCMatch / StatINC can be used in production and work
  even after a server graceful restart, which is essential for
  a production server.

 -Content-Length header is set again, if BufferingOn is set, and
  haven't $Response-&gt;Flush()'d.  This broke when I introduce
  the Script_OnEnd event handler.

 +Optimized reloading of the GlobalPackage perl module upon changes,
  so that scripts and dynamic includes don't have to be recompiled.
  The global.asa will still have to be though.  Since we started
  compiling all routines into a package that can be named with
  GlobalPackage, we've been undeffing compiled scripts and includes
  when the real GlobalPackage changed on disk, as we do a full sweep
  through the namespace.  Now, we skip those subs that we know to
  be includes or scripts.

 -Using Apache::Symbol::undef() to undefine precompiled scripts
  and includes when reloading those scripts.  Doing just an undef()
  would sometimes result in an &quot;active subroutine undef&quot; error.
  This bug came out when I started thrashing the StatINC system
  for production use.

 +StatINCMatch setting created for production use reloading of
  perl modules.  StatINCMatch allows StatINC reloading of a
  subset of all the modules defined in %INC, those that match
  $module =~ /$StatINCMatch/, where module is some module name
  like Class/Struct.pm

 +Reoptimized pod comment parsing.  I slowed it down to sync
  lines numbers in the last version, but found another corner I could cut. </pre></font>
	
	<p>
	<a name=%24VERSION%20%3D%200.10%3B%20%24DATE%3D%2205%2F24%2F99%22%3B></a>
	<font face=verdana><font size=+0 color=#555555><b>$VERSION = 0.10; $DATE="05/24/99";</b></font><p>
<font face="lucida console,courier new" size=3><pre>
 += improvement; - = bug fix

 +Added index.html file to ./eg to help people wade through
  the examples.  This one has been long overdue.

 +Clean config option, or setting $Response-&gt;{Clean} to 1 - 9,
  uses HTML::Clean to compress text/html output of ASP scripts.
  I like the Clean 1 setting which is lightweight, stripping
  white space for about 10% compression, at a cost of less than
  a 5% performance penalty.

 +Using pod style commenting no longer confuses the line
  numbering.  ASP script line numbers are almost exactly match
  their compiled perl version, except that normal inline includes
  (not dynamic) insert extra text which can confuse line numbering.
  If you want perl error line numbers to entirely sync with your
  ASP scripts, I would suggest learning how to use dynamic includes,
  as opposed to inline includes.

 -Wrapped StatINC reloading of libs in an eval, and capturing
  error for Debug 2 setting.  This makes changing libs with StatINC
  on a little more friendly when there are errors.

 -$Request-&gt;QueryString() now stores multiple values for the
  same key, just as $Request-&gt;Form() has since v.07.  In
  wantarray() context like @vals = $Request-&gt;QueryString('dupkey'),
  @vals will store whatever values where associated with dupkey
  in the query string like (1,2) from: ?dupkey=1&amp;dupkey=2

 +The GlobalPackage config directive may be defined
  to explicitly set the perl module that all scripts and global.asa
  are compiled into.

 -Dynamic includes may be in the Global directory, just like
  normal includes.

 +Perl script generated from asp scripts should match line
  for line, seen in errors, except when using inline (default)
  includes, pod comments, or &lt;% #comment %&gt; perl comments, which
  will throw off the line counts by adding text, removing
  text, or having an extra newline added, respectively.

 -Script_OnEnd may now send output to the browser.  Before
  $main::Response-&gt;End() was being called at the end of the
  main script preventing further output.
</pre></font>++All scripts are compiled as routines in a namespace uniquely
<font face="lucida console,courier new" size=3><pre>  defined by the global.asa of the ASP application.  Thus,
  scripts, includes, and global.asa routines will share
  all globals defined in the global.asa namespace.   This means
  that globals between scripts will be shared, and globals
  defined in a global.asa will be available to scripts.

  Scripts used to have their own namespace, thus globals
  were not shared between them.

 +a -o $output_dir switch on the ./cgi/asp script allows
  it to execute scripts and write their output to an output
  directory.  Useful for building static html sites, based on
  asp scripts.  An example use would be:

    asp -b -o out *.asp

  Without an output directory, script output is written to STDOUT </pre></font>
	
	<p>
	<a name=%24VERSION%20%3D%200.09%3B%20%24DATE%3D%2204%2F22%2F99%22%3B></a>
	<font face=verdana><font size=+0 color=#555555><b>$VERSION = 0.09; $DATE="04/22/99";</b></font><p>
<font face="lucida console,courier new" size=3><pre>
 +Updated Makefile.PL optional modules output for <a href=cgi.html><font size=-1 face=verdana><b>CGI</b></font></a> &amp; DB_File

 +Improved docs on $Response-&gt;Cookies() and $Request-&gt;Cookies()

 +Added PERFORMANCE doc to main README, and added sub section
  on precompiling scripts with Apache::ASP-&gt;Loader()

 +Naming of CompileIncludes switched over to DynamicIncludes
  for greater clarity.

 +Dynamic includes can now reference ASP objects like $Session
  w/o the $main::* syntax.  These subs are no longer anonymous
  subs, and are now compiled into the namespace of the global.asa package.

 +Apache::ASP-&gt;Loader() precompiles dynamic includes too. Making this work
  required fixing some subtle bugs / dependencies in the compiling process.

 +Added Apache::ASP-&gt;Loader() similar to Apache::RegistryLoader for
  precompiling ASP scripts.  Precompile a whole site at server
  startup with one function call.

 +Prettied the error messaging with Debug 2.

 +$Response-&gt;Debug(@args) debugging extension, which
  allows a developer to hook into the module's debugging,
  and only have @args be written to error_log when Debug is greater
  than 0.

 -Put write locking code around State writes, like $Session
  and $Application.  I thought I fixed this bug a while ago.

 -API change: converted $Session-&gt;Timeout() and $Session-&gt;SessionID()
  methods into $Session-&gt;{Timeout} and $Session-&gt;{SessionID} properties.
  The use of these properties as methods is deprecated, but
  backwards compatibility will remain.  Updated ./eg/session.asp
  to use these new properties.

 +Implemented $Response-&gt;{PICS} which if set sends out a PICS-Label
  HTTP header, useful for ratings.

 +Implemented $Response-&gt;{CacheControl} and $Response-&gt;{Charset} members.
  By default, CacheControl is 'private', and this value gets sent out
  every request as HTTP header Cache-Control.  Charset appends itself
  onto the content type header.

 +Implemented $Request-&gt;BinaryRead(), $Request-&gt;{TotalBytes},
  documented them, and updated ./eg/form.asp for an example usage.

 +Implemented $Response-&gt;BinaryWrite(), documented, and created
  and example in ./eg/binary_write.htm

 +Implemented $Server-&gt;MapPath() and created example of its use
  in ./eg/server.htm

 -$Request-&gt;Form() now reads file uploads correctly with
  the latest <a href=http://stein.cshl.org/WWW/software/CGI/cgi_docs.html><font size=-1 face=verdana><b>CGI.pm</b></font></a>, where $Request-&gt;Form('file_field') returns
  the actual file name uploaded, which can be used as a file handle
  to read in the data.  Before, $Request-&gt;Form('file_field') would
  return a glob that looks like *Fh::filename, so to get the file
  name, you would have to parse it like =~ s/^\*Fh\:\://,
  which you no longer have to do.  As long as parsing was done as
  mentioned, the change should be backwards compatible.

 +Updated  +enhanced documentation on file uploads.  Created extra
  comments about it as an <a href=faq.html><font size=-1 face=verdana><b>FAQ</b></font></a>, and under $Response-&gt;Form(), the latter
  being an obvious place for a developer to look for it.

 +Updated ./eg/file_upload.asp to show use of non file form data,
  with which we had a bug before.

 +Finished retieing *STDIN to cached STDIN contents, so that
  CGI input routines may be used transparently, along side with
  use of $Request-&gt;Form()

 +Cleaned up and optimized $Request code

 +Updated documentation for CGI input &amp; file uploads.  Created
  file upload FAQ.

 +Reworked ./eg/cgi.htm example to use CGI input routines
  after doing a native read of STDIN.

 ++Added dynamic includes with &lt;!--include file=file args=@args--&gt;
  extension.  This style of include is compiled as an anonymous sub &amp;
  cached, and then executed with @args passed to the subroutine for
  execution.  This is include may also be rewritten as a new API
  extension: $Response-&gt;Include('file', @args)

 +Added ./eg/compiled_includes.htm example documenting new dynamic includes.

 +Documented <a href=ssi.html><font size=-1 face=verdana><b>SSI</b></font></a>: native file includes, and the rest with filtering
  to Apache::SSI

 +Turned the documentation of Filter config to value of Off so
  people won't cut and paste the On config by default.

 +Added SecureSession config option, which forces session cookie to
  be sent only under https secured www page requests.

 +Added StateDB config option allows use of DB_File for $Session, since
  default use of SDBM_File is limited.  See StateDB in README.

 +file include syntax w/o quotes supported like &lt;!--#include file=test.inc--&gt;

 +Nested includes are supported, with includes including each other.
  Recursive includes are detected and errors out when an include has been
  included 100 times for a script.  Better to quit early than
  have a process spin out of control. (PORTABLE ? probably not)

 +Allow &lt;!--include file=file.inc--&gt; notation w/o quotes around file names

 -PerlSetEnv apache conf setting now get passed through to $Request-&gt;ServerVariables.
  this update has ServerVariables getting data from %ENV instead of $r-&gt;cgi_env

 +README FAQ for PerlHandler errors </pre></font>
	
	<p>
	<a name=%24VERSION%20%3D%200.08%3B%20%24DATE%3D%2202%2F06%2F99%22%3B></a>
	<font face=verdana><font size=+0 color=#555555><b>$VERSION = 0.08; $DATE="02/06/99";</b></font><p>
<font face="lucida console,courier new" size=3><pre>
 ++<a href=ssi.html><font size=-1 face=verdana><b>SSI</b></font></a> with Apache::Filter &amp; Apache::SSI, see config options &amp; ./eg files
  Currently filtering only works in the direction Apache::ASP -&gt; Apache::SSI,
  will not work the other way around, as SSI must come last in a set of filters

 +SSI file includes may reference files in the Global directory, better code sharing

 - &lt;% @array... %&gt; no longer dropped from code.

 +perl =pod comments are stripped from script before compiling, and associated
  PodComments configuration options.

 +Command line cgi/asp script takes various options, and allows execution
  of multiple asp scripts at one time.  This script should be used for
  command line debugging.  This is also the beginning of building
  a static site from asp scripts with the -b option, suppressing headers.

 +$Response-&gt;AddHeader('Set-Cookie') works for multiple cookies.

 -$Response-&gt;Cookies('foo', '0') works, was dropping 0 because of boolean test

 -Fixed up some config doc errors. </pre></font>
	
	<p>
	<a name=%24VERSION%20%3D%200.07%3B%20%24DATE%3D%2201%2F20%2F99%22%3B></a>
	<font face=verdana><font size=+0 color=#555555><b>$VERSION = 0.07; $DATE="01/20/99";</b></font><p>
<font face="lucida console,courier new" size=3><pre>
 -removed SIG{__WARN__} handler, it was a bad idea.

 -fixes file locking on QNX, work around poor flock porting

 +removed message about Win32::OLE on UNIX platforms from Makefile.PL

 -Better lock garbage collection.  Works with StatINC seamlessly.

 -Multiple select forms now work in array context with $Response-&gt;Form()
	@values = $Response-&gt;Form('multi');

 -Better <a href=cgi.html><font size=-1 face=verdana><b>CGI</b></font></a>.pm compatibility with $r-&gt;header_out('Content-type'),
  improved garbage collection under modperl, esp. w/ file uploads </pre></font>
	
	<p>
	<a name=%24VERSION%20%3D%200.06%3B%20%24DATE%3D%2212%2F21%2F98%22%3B></a>
	<font face=verdana><font size=+0 color=#555555><b>$VERSION = 0.06; $DATE="12/21/98";</b></font><p>
<font face="lucida console,courier new" size=3><pre>
 +Application_OnStart &amp; Application_OnEnd event handlers support.

 -Compatible with <a href=cgi.html><font size=-1 face=verdana><b>CGI</b></font></a>.pm 2.46 headers()

 -Compatible with <a href=http://stein.cshl.org/WWW/software/CGI/cgi_docs.html><font size=-1 face=verdana><b>CGI.pm</b></font></a> $q = new CGI({}), caveat: does not set params

 +use strict; followed by use of objects like $Session is fine.

 -Multiple cookies may be set per script execution.

 +file upload implemented via CGI.pm

 ++global.asa implemented with events Session_OnStart and Session_OnEnd
  working appropriately.

 +StateDir configuration directive implemented.
  StateDir allows the session state directory to be specified separately
  from the Global directory, useful for operating systems with caching file
  systems.

 +StateManager config directive.  StateManager specifies how frequently
  Sessions are cleaned up, with 10 (default) meaning that old Sessions
  will be cleaned up 10 times per SessionTimeout period (default 20 minutes).

 +$Application-&gt;SessionCount() implemented, non-portable method.
	: returns the number of currently active sessions

 -STOP button fix.  Users may hit STOP button during script
  execution, and Apache::ASP will cleanup with a routine registered
  in Apache's $r-&gt;register_cleanup.  Works well supposedly.

 +<a href=http://www.activestate.com/ActivePerl/><font size=-1 face=verdana><b>PerlScript</b></font></a> compatibility work, trying to make ports smoother.
	: Collection emulator, no -&gt;{Count} property
	: $.*(.*)-&gt;{Item} parsed automatically,
	  shedding the -&gt;{Item} for Collection support (? better way ?)
	: No VBScript dates support, just HTTP RFC dates with HTTP::Date
	: Win32::OLE::in not supported, just use &quot;keys %{$Collection}&quot;

 +./cgi/asp script for testing scripts from the command line
	: will be upgraded to CGI method of doing asp
	: is not &quot;correct&quot; in anyway, so not documented for now
	  but still useful

 +strips DOS carriage returns from scripts automatically, so that
  programs like FrontPage can upload pages to UNIX servers
  without perl choking on the extra \r characters. </pre></font>
	
	<p>
	<a name=%24VERSION%20%3D%200.05%3B%20%24DATE%3D%2210%2F19%2F98%22%3B></a>
	<font face=verdana><font size=+0 color=#555555><b>$VERSION = 0.05; $DATE="10/19/98";</b></font><p>
<font face="lucida console,courier new" size=3><pre>
 +Added PERFORMANCE doc, which includes benchmarks  +hints.

 +Better installation warnings and errors for other modules required.

 -Turned off StatINC in eg/.htaccess, as not everyone installs Devel::Symdump

 -Fixed AUTOLOAD state bug, which wouldn't let you each through state
  objects, like %{$Session}, or each %$Session, (bug introduced in v.04)

 +Parses ASP white space better.  HTML output matches author's intent
  by better dealing with white space surrounding &lt;% perl blocks %&gt;

 -Scalar insertion code &lt;%=$foo%&gt; can now span many lines.

 +Added include.t test script for includes.

 +Script recompiles when included files change.

 +Files can be included in script with
  <a href=ssi.html><font size=-1 face=verdana><b>SSI</b></font></a> &lt;!--#include file=&quot;filename&quot;--&gt; syntax, needs to be
  done in ASP module to allow compilation of included code and html
  into script.  Future chaining with Apache::SSI will allow static
  html includes, and other SSI directives </pre></font>
	
	<p>
	<a name=%24VERSION%20%3D%200.04%3B%20%24DATE%3D%2210%2F14%2F98%22%3B></a>
	<font face=verdana><font size=+0 color=#555555><b>$VERSION = 0.04; $DATE="10/14/98";</b></font><p>
<font face="lucida console,courier new" size=3><pre>
 +Example script eg/cgi.htm demonstrating <a href=cgi.html><font size=-1 face=verdana><b>CGI</b></font></a>.pm use for output.

 +Optimized ASP parsing, faster and more legible executing code
	: try 'die();' in code with setting PerlSetVar Debug 2

 +Cleaned up code for running with 'use strict'

 -Fixed directory handle leak on Solaris, from not closing after opendir()

 +StatINC overhaul.  StatINC setting now works as it should, with
  the caveat that exported functions will not be refreshed.

 +NoState setting optimization, disallows $Application &amp; $Session

 +$Application-&gt;*Lock() functions implemented

 -SoftRedirect setting for those who want scripts to keep running
  after a Redirect()

 +SessionSerialize setting to lock session while script is running
	: Microsoft ASP style session locking
	: For a session, scripts execute one at a time
	: NOT recommended use, please see note.

 -MLDBM can be used for other things without messing up internal use
	: before if it was used with different DB's and serializers,
	  internal state could be lost.

 --State file locking.  Corruption worries, and loss of data no more.

 +CGI header support, developer can use <a href=http://stein.cshl.org/WWW/software/CGI/cgi_docs.html><font size=-1 face=verdana><b>CGI.pm</b></font></a> for *output*, or just print()
	: print &quot;Set-Cookie: test=cookie\n&quot;, and things will just work
	: use CGI.pm for output
	: utilizes $r-&gt;send_cgi_header(), thanks Doug!

 +Improved Cookie implementation, more flexible and complete
	- Domain cookie key now works
	: Expire times now taken from time(), and relative time in sec
	: Request-&gt;Cookies() reading more flexible, with wantarray()
	  on hash cookie values, %hash = $Request-&gt;Cookie('test');

 -make test module naming correction, was t.pm, now T.pm for Unix

 +POD / README cleanup, formatting and HTML friendly. </pre></font>
	
	<p>
	<a name=%24VERSION%20%3D%200.03%3B%20%24DATE%3D%2209%2F14%2F98%22%3B></a>
	<font face=verdana><font size=+0 color=#555555><b>$VERSION = 0.03; $DATE="09/14/98";</b></font><p>
<font face="lucida console,courier new" size=3><pre>
 +Installation 'make test' now works

 +ActiveX objects on Win32 implemented with $Server-&gt;CreateObject()

 +Cookies implemented: $Response-&gt;Cookies() &amp; $Request-&gt;Cookies()

 -Fixed $Response object API, converting some methods to object members.
  Deprecated methods, but backwards compatible.

 +Improved error messaging, debug output

 +$, influences $Response-&gt;Write(@strings) behavior

 +perl print() works, sending output to $Response object

 +$Response-&gt;Write() prints scalars, arrays, and hashes.  Before only scalars.

 +Begin implementation of $Server object.

 +Implemented $Response-&gt;{Expires} and $Response-&gt;{ExpiresAbsolute}

 +Added &quot;PerlSetVar StatINC&quot; config option

 +$0 is aliased to current script filename

 +ASP Objects ($Response, etc.) are set in main package
  Thus notation like $main::Response-&gt;Write() can be used anywhere. </pre></font>
	
	<p>
	<a name=%24VERSION%20%3D%200.02%3B%20%24DATE%3D%2207%2F12%2F98%22%3B></a>
	<font face=verdana><font size=+0 color=#555555><b>$VERSION = 0.02; $DATE="07/12/98";</b></font><p>
<font face="lucida console,courier new" size=3><pre>
 ++Session Manager, won't break under denial of service attack

 +Fleshed out $Response, $Session objects, almost full implementation.

 +Enormously more documentation.

 -Fixed error handling with Debug = 2.

 -Documentation fixed for pod2man support.  README now more man-like.

 -Stripped \r\n dos characters from installation files

 -755 mode set for session state directory when created

 -Loads Win32/OLE properly, won't break with UNIX </pre></font>
	
	<p>
	<a name=%24VERSION%20%3D%200.01%3B%20%24DATE%3D%2206%2F26%2F98%22%3B></a>
	<font face=verdana><font size=+0 color=#555555><b>$VERSION = 0.01; $DATE="06/26/98";</b></font><p>
<font face="lucida console,courier new" size=3><pre>
 Syntax Support
 --------------
 Initial release, could be considered alpha software.
 Allows developers to embed perl in html ASP style.

 &lt;!-- sample here --&gt;
 &lt;html&gt;
 &lt;body&gt;
 &lt;% for(1..10) { %&gt;
 	counting: &lt;%=$_%&gt; &lt;br&gt;
 &lt;% } %&gt;
 &lt;/body&gt;
 &lt;/html&gt;

 ASP Objects
 -----------
 $Session, $Application, $Response, $Request objects available
 for use in asp pages.

 $Session &amp; $Application data is preserved using SDBM files.

 $Session id's are tracked through the use of cookies.

 Security
 --------
 Timeouts any attempt to use a session id that doesn't already
 exist.  Should stop hackers, since there is no wire speed guessing
 cookies. </pre></font>
	

</font>
</td>
</tr>
<tr bgcolor=#555555>
	<td colspan=2 align=center width=80%>
	<font face=verdana color=white size=-1>
	Copyright &copy; 1998-2000, Joshua Chamas, 
	<a href=http://www.chamas.com><font color=white>Chamas Enterprises Inc.</font></a>
	</font>
	</td>
</tr>
</table>
</body>
</html>
